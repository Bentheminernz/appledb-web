import{_ as k,r as S,o as n,c as s,d as t,$ as g,t as r,m as d,F as w,E as u,n as m,b,w as D,e as y,a0 as x,a1 as O}from"./app.cdf1231e.js";const B={props:{fw:Object,options:Object,showSingleDownloads:Boolean,hasFirmwares:Object,showDots:Boolean},data(){return{expanded:!1,showDownloadDropdown:!1,signed:"unknown",fwData:[],tags:[]}},mounted(){const l=this.fw.devices.filter(a=>this.shouldSigningStatusBeChecked(a,this.fw.osStr));l.length&&!this.fw.rc&&this.getSigningStatus(this.fw.build,l[0],this.fw.osStr,this.fw.beta||this.fw.rc,this.fw.uniqueBuild),this.tags=[].filter(a=>a.val)},async created(){},methods:{async getSigningStatus(l,a,e,v){var o=new XMLHttpRequest;o.open("GET",`https://api.ipsw.me/v4/ipsw/${a}/${l}`),o.setRequestHeader("Accept","application/json"),o.onreadystatechange=function(){if(this.readyState===4&&this.status==200){let f=JSON.parse(this.responseText);var h=document.getElementById(`signing-status-${e}-${l}`),_=document.getElementById(`signing-text-${e}-${l}`);if(v)if(f=f.filter(i=>i.buildid==l),f.length)f=f[0];else return;f.signed?(h.classList.add("fa-check"),_.innerHTML="Signed"):(h.classList.add("fa-times"),_.innerHTML="Not signed")}},o.send()},shouldSigningStatusBeChecked(l,a){return["bridgeOS","iOS","iPadOS","macOS","HomePod Software","tvOS","watchOS","Apple TV Software","iPhoneOS","visionOS"].includes(a)&&!["iPhone1,1","iPhone1,2","iPod1,1","AudioAccessory1,1","AudioAccessory6,1"].includes(l)},openDownloadDropdown(){var l=document.getElementsByClassName("downloadDropdown active");for(let a of l)a.classList.remove("active");this.expanded=!this.expanded,this.showDownloadDropdown=!this.showDownloadDropdown},getFwData(){return fetch(`/pageData/firmware/${[this.fw.osStr,this.fw.uniqueBuild].join(";")}.json`.replace(/\.html/g,""),{method:"GET",headers:{"Content-Type":"application/json"}}).then(l=>l.text()).then(l=>JSON.parse(l))}}},c=l=>(x("data-v-28743636"),l=l(),O(),l),C={key:0,style:{"font-weight":"600"}},I=c(()=>t("i",{style:{"margin-inline":"8px","font-size":".3em"},class:"fas fa-circle"},null,-1)),T={style:{"padding-inline":"0",background:"none","font-size":"0.95em"}},V={key:2,class:"fas fa-box-open",style:{"padding-left":"8px"}},j=c(()=>t("div",{style:{"padding-inline":".25em",display:"inline-block"}},null,-1)),A={key:4},N={key:5,class:"releaseBetaInternalWrapper"},E=c(()=>t("span",null,"RSR",-1)),R=[E],F=["id"],L=["id"],P={key:0,style:{"text-align":"right"},class:"releasedStr"},z={class:"iconFlex"},q=c(()=>t("a",{style:{cursor:"pointer"}},[t("i",{class:"downloadIcon fas fa-download"})],-1)),H=c(()=>t("h5",null,"Download",-1)),p={key:0},J=["href"],M=["href"],G=c(()=>t("h5",null,"Download (OTA)",-1)),U={key:0},W=["href"],X=["href"],K=c(()=>t("i",{class:"fas fa-box-open"},null,-1)),Q={class:"iconChild"},Y={style:{cursor:"pointer"}},Z={key:0,class:"expandedView"},$={key:0,class:"custom-container releasedInfo"},ee={style:{display:"flex","flex-flow":"row wrap","align-content":"space-between"}},te={style:{"padding-left":"0","list-style-type":"none"}},ne={class:"releasedInfo"},se={key:1,class:"custom-container"},ie=c(()=>t("h5",null,"Devices",-1)),le=c(()=>t("br",null,null,-1)),oe={key:2,class:"custom-container"},ae=c(()=>t("h5",null,"Jailbreaks",-1)),de={class:"custom-container"},re=["href"],ce=c(()=>t("i",{style:{"font-size":"0.8em","padding-left":"2px"},class:"fas fa-arrow-right"},null,-1)),fe={key:3,class:"custom-container"},we=["href"],he=c(()=>t("i",{style:{"margin-right":"8px"},class:"fab fa-twitter"},null,-1)),ue={key:1,style:{"border-bottom":"1px solid var(--c-border)",width:"calc(100% - 24px)",margin:"auto","margin-block":"-1px"}};function _e(l,a,e,v,o,h){const _=S("grid"),f=S("router-link");return n(),s(w,null,[t("div",{class:"wrapper firmwareVersionTableElement",onClick:a[2]||(a[2]=i=>o.expanded=!o.expanded)},[t("div",{class:"firmwareAndReleasedStr",style:g({width:`calc(100% - ${(1+e.showSingleDownloads)*32}px)`})},[t("div",null,[e.options.showVersionString?(n(),s("span",C,r([e.fw.osStr,e.fw.version].join(" ")),1)):d("",!0),e.fw.build&&(o.expanded||this.fw.duplicateVersion||this.options.showBuildNumber)?(n(),s(w,{key:1},[I,t("code",T,r(this.fw.build),1)],64)):d("",!0),this.fw.preinstalled.some(i=>this.fw.devices.includes(i))&&(this.fw.filteredDownloads.length||this.fw.filteredOtas.length)?(n(),s("i",V)):d("",!0),j,e.showDots||o.expanded?(n(),s("div",{key:3,class:u([e.fw.internal?"internal":e.fw.beta||e.fw.rc?"beta":"release","releaseBetaInternalWrapper"])},[t("span",null,r(e.fw.internal?"internal":e.fw.rc?"rc":e.fw.beta?"beta":"release"),1)],2)):(e.fw.internal||e.fw.beta||e.fw.rc)&&Object.keys(e.hasFirmwares).filter(i=>e.hasFirmwares[i]).length==1?(n(),s("span",A,[t("i",{style:{"margin-left":"0px","font-size":".4em"},class:u([e.fw.internal?"internal":e.fw.beta||e.fw.rc?"beta":"release","fas","fa-circle"])},null,2)])):d("",!0),e.fw.rsr?(n(),s("div",N,R)):d("",!0),t("div",{class:"signingStatus",style:g({display:e.options.showSigningStatus?"initial":"none"})},[t("i",{id:`signing-status-${e.fw.osStr}-${e.fw.build}`,class:"fas"},null,8,F),t("span",{id:`signing-text-${e.fw.osStr}-${e.fw.build}`,class:"signingText"},null,8,L)],4)]),e.fw.releasedStr&&e.options.showReleasedString?(n(),s("div",P,r(e.fw.releasedStr),1)):d("",!0)],4),t("div",z,[e.showSingleDownloads?(n(),s(w,{key:0},[e.fw.filteredDownloads.length||e.fw.filteredOtas.length?(n(),s("div",{key:0,onClick:a[0]||(a[0]=i=>h.openDownloadDropdown()),class:"downloadIcon iconChild"},[q,t("div",{class:u(["downloadDropdown","custom-container",o.showDownloadDropdown?"active":""]),style:{cursor:"initial"}},[e.fw.filteredDownloads.length?(n(),s(w,{key:0},[H,t("ul",{style:g(`${e.fw.filteredDownloads.length==1?"padding-left: 0; list-style-type: none;":""}`)},[e.fw.filteredDownloads.length==1?(n(),s("li",p,[t("a",{href:e.fw.filteredDownloads[0].url},r(e.fw.filteredDownloads[0].label.slice(0,60))+r(e.fw.filteredDownloads[0].label.length>60?"...":""),9,J)])):(n(!0),s(w,{key:1},m(e.fw.filteredDownloads,i=>(n(),s("li",{key:i},[t("a",{href:i.url},r(i.deviceName),9,M)]))),128))],4)],64)):d("",!0),e.fw.filteredOtas.length?(n(),s(w,{key:1},[G,t("ul",{style:g(`${e.fw.filteredOtas.length==1?"padding-left: 0; list-style-type: none;":""}`)},[e.fw.filteredOtas.length==1?(n(),s("li",U,[t("a",{href:e.fw.filteredOtas[0].url},r(e.fw.filteredOtas[0].label.slice(0,60))+r(e.fw.filteredOtas[0].label.length>60?"...":""),9,W)])):(n(!0),s(w,{key:1},m(e.fw.filteredOtas,i=>(n(),s("li",{key:i},[t("a",{href:i.url},r(i.deviceName),9,X)]))),128))],4)],64)):d("",!0)],2)])):e.fw.preinstalled.some(i=>e.fw.devices.includes(i))?(n(),s("div",{key:1,onClick:a[1]||(a[1]=i=>h.openDownloadDropdown()),class:"downloadIcon iconChild"},[K,t("div",{class:u(["downloadDropdown","custom-container",o.showDownloadDropdown?"active":""]),style:{"padding-inline":"1.3em !important","font-weight":"500"}}," Preinstalled firmware ",2)])):d("",!0)],64)):d("",!0),t("div",Q,[t("a",Y,[t("i",{class:u(["fas",o.expanded?"fa-chevron-down":"fa-chevron-right"])},null,2)])])])]),o.expanded?(n(),s("div",Z,[e.fw.releasedStr?(n(),s("div",$,[t("div",ee,[t("ul",te,[t("li",ne,"Released"+r(e.fw.releasedStr.includes(",")?" on":":")+" "+r(e.fw.releasedStr),1)])])])):d("",!0),o.fwData&&o.fwData.content?(n(),s("div",se,[ie,b(_,{content:o.fwData.content,sectionClass:o.fwData.class+" blue"||""},null,8,["content","sectionClass"]),le])):d("",!0),e.fw.jailbreakArr.length?(n(),s("div",oe,[ae,t("ul",null,[(n(!0),s(w,null,m(e.fw.jailbreakArr,i=>(n(),s("li",{key:i},[b(f,{to:encodeURI(`/jailbreak/${i.replace(/ /g,"-")}.html`)},{default:D(()=>[y(r(i),1)]),_:2},1032,["to"])]))),128))])])):d("",!0),t("div",de,[t("p",null,[t("a",{href:e.fw.url},[y("View more "),ce],8,re)])]),e.options.showTweetButton?(n(),s("div",fe,[t("p",null,[t("a",{href:"https://twitter.com/intent/tweet?text="+encodeURI(`${[e.fw.osStr,e.fw.version].join(" ")}${e.fw.build?" ("+e.fw.build+")":""} has been released. https://appledb.dev${e.fw.url}`),target:"_blank"},[he,y("Tweet ")],8,we)])])):d("",!0)])):d("",!0),o.expanded?d("",!0):(n(),s("div",ue))],64)}var me=k(B,[["render",_e],["__scopeId","data-v-28743636"],["__file","firmwareVersionTableElement.vue"]]);export{me as default};
